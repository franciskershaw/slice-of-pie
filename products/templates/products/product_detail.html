{% extends 'base.html' %}

{% load static %}

{% block content %}
<div class="product-detail page-container container">
   <div class="row text-center">
      <div class="col-12 col-md-6 product-card-container">
         <div class="product-card" onmouseenter="productCardRight(this)" onmouseleave="productCardLeft(this)">
            <div class="product-card-image-container">
               <img class="product-image" src="{{ MEDIA_URL }}{{ product.image_1 }}"
               alt="{{ product.name }}">
               <img class="product-image" src="{{ MEDIA_URL }}{{ product.image_2 }}" alt="{{ product.name }}">
            </div>
         </div>
      </div>
      <div class="col-12 col-md-6 key-product-actions-container">
         <div class="row product-info-row">
            <div class="col-12 product-title-detail">
               <h2>{{ product.name }}</h2>
            </div>
            <h3 class="col-12 product-card-price product-price-detail">
               Â£{{ product.price }}
            </h3>
            <div class="col-12">
               <form class="form" action="{% url 'add_to_basket' product.id %}" method="POST">
                  {% csrf_token %}
                  <div class="input-group row">
                     <div class="col-3"></div>
                     <div class="col-2 p-0 text-right">
                        <button class="decrement-qty bskt-qty-btn" data-item_id="{{ product.id }}" id="decrement-qty_{{ product.id }}">
                           <span class="icon">
                              <i class="fas fa-minus"></i>
                           </span>
                        </button>
                     </div>
                     <div class="col-2 p-0">
                        <input class="qty_input" type="number" name="quantity" value="1" min="1"
                        max="99" data-item_id="{{ product.id }}" id="id_qty_{{ product.id }}">
                     </div>
                     <div class="col-2 p-0 text-left">
                        <button class="increment-qty bskt-qty-btn" data-item_id="{{ product.id }}"
                           id="increment-qty_{{ product.id }}">
                           <span class="icon">
                              <i class="fas fa-plus"></i>
                           </span>
                        </button>
                     </div>
                     <div class="col-3"></div>
                  </div>
                  <div class="row">
                     <div class="col-6 product-card-cta-container detail-btns">
                        <button><input type="submit" value="Add to Basket"> <i class="fas fa-shopping-basket"><span class="sr-only">shopping basket</span></i></button>
                     </div>
                     <input type="hidden" name="redirect_url" value="{{ request.path }}">
                     <div class="col-6 product-card-cta-container detail-btns">
                        <button>Save for later 
                           <i class="far fa-heart" aria-hidden="true"></i>
                           <span class="sr-only">Add to wishlist</span>
                        </button>
                     </div>
                  </div>
               </form>
            </div>
            <div class="col-12 product-description text-left d-none d-lg-block">
               <p><em>{{ product.description }}</em></p>
            </div>
         </div>
      </div>
      <div class="col-12 product-description text-left d-lg-none">
         <p><em>{{ product.description }}</em></p>
      </div>
      <div class="col-12">
         <a href="{% url 'products' %}" class="btn btn-primary btn-md cta-btn">Browse all</a>
      </div>
   </div>
</div>

{% endblock %}

{% block postloadjs %}
   {{ block.super }}
   {% include 'products/includes/quantity_input_script.html' %}
{% endblock %}
